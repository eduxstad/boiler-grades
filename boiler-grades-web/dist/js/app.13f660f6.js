(function(t){function e(e){for(var s,r,i=e[0],o=e[1],c=e[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],s=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(s=!1)}s&&(l.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},l=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=o;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("Sample"),a("v-container",[a("v-row",[a("v-col",{attrs:{sm:"12",md:"12",lg:"12",xl:"8"}},[a("SearchBar")],1)],1)],1),a("p",{staticClass:"d-flex d-sm-none"},[t._v("Xtra-Small")]),a("p",{staticClass:"d-none d-sm-flex d-md-none"},[t._v("Small")]),a("p",{staticClass:"d-none d-md-flex d-lg-none"},[t._v("Medium")]),a("p",{staticClass:"d-none d-lg-flex d-xl-none"},[t._v("Large")]),a("p",{staticClass:"d-none d-xl-flex"},[t._v("Xtra-Large")])],1)],1)},l=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("Boiler Grades")])},i=[],o={name:"Sample",setup:function(){}},c=o,u=a("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null),p=d.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-autocomplete",{attrs:{solo:"","auto-select-first":"",clearable:"","hide-no-data":"",loading:t.loading,items:t.items,"search-input":t.search,label:"Search by class or instructor"},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),a("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("div",t._g(t._b({staticClass:"d-inline-block",attrs:{id:"test"}},"div",n,!1),s),[a("v-checkbox",t._g(t._b({staticClass:"pt-0 mt-n3 mb-n4 pl-2",attrs:{label:"Include pandemic semesters"},model:{value:t.includePandemic,callback:function(e){t.includePandemic=e},expression:"includePandemic"}},"v-checkbox",n,!1),s))],1)]}}])},[a("span",[t._v("Include sections from Spring 2020, Summer 2020, Fall 2020, and Spring 2021")])]),t.classRows.length>0?a("InstructorHeader",{attrs:{sectionlabel:t.sectionlabel}}):t._e(),t._l(t.classRows,(function(t){return a("ClassRow",{key:t.label,attrs:{classrowdata:t}})})),0!=t.classRows.length||t.isLoading?t._e():a("v-container",{staticClass:"font-weight-light px-auto"},[t._v(" No results found. Try searching 'MA16100' or 'Peroulis' ")]),a("v-layout",{attrs:{"justify-center":""}},[t.isLoading?a("v-progress-circular",{attrs:{size:70,width:7,color:"light-blue",indeterminate:""}}):t._e()],1)],2)},f=[],v=a("3835"),_=a("b85c"),m=(a("d3b7"),a("caad"),a("2532"),a("ac1f"),a("841c"),a("4fad"),a("4e82"),a("25f0"),a("4de4"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-container",{staticClass:"text-body-2 pa-0",class:{"grey lighten-3":s}},[a("v-row",{staticClass:"align-center px-1",class:{"font-weight-bold":t.allSections},attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"4",sm:"3",md:"2"}},[t._v(" "+t._s(t.classrowdata.label)+" ")]),a("v-col",{staticClass:"d-none d-md-flex justify-end",attrs:{cols:"1"}},[t._v(" "+t._s(t.classrowdata.count)+" ")]),a("v-col",{ref:"svgDiv",attrs:{cols:"7",sm:"8",md:"7"}},[a("v-menu",{attrs:{"open-on-hover":"","open-delay":"250",top:"","offset-y":"","z-index":"100000"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("div",t._g(t._b({ref:"svgGraph",attrs:{id:t.classrowdata.label.replace(/\W/g,"")}},"div",n,!1),s))]}}],null,!0),model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}},[a("GradeTable",{attrs:{data:t.classrowdata}})],1)],1),a("v-col",{staticClass:"d-none d-md-flex justify-end",attrs:{cols:"1"}},[t._v(" "+t._s(t.classrowdata.gpad.toFixed(2))+" ")]),a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"1",md:"1"}},[t._v(" "+t._s(t.classrowdata.gpa.toFixed(2))+" ")])],1)],1)]}}])})}),g=[],b=(a("5319"),a("898b")),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"white"},[a("v-container",[a("v-row",[a("v-col",[t._v(" "+t._s(t.data.course_desc)+" ")]),a("v-col",{attrs:{cols:"auto"}},[t._v(" Instructor: "+t._s(t.data.instructor)+" ")]),a("v-col",{staticClass:"justify-end"},[a("div",{staticClass:"d-flex justify-end"},[t._v(" GPA: "+t._s(t.data.gpa.toFixed(2))+" ")])])],1)],1),a("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",t._l(t.tableHeaders,(function(e,s){return a("th",{key:s,staticClass:"text-center"},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",[a("tr",t._l(t.tableData,(function(e,s){return a("td",{key:s,staticClass:"text-center"},[t._v(" "+t._s(e.toFixed(1))+"% ")])})),0)])]},proxy:!0}])})],1)},A=[],F={name:"GradeTable",props:["data"],data:function(){return{tableData:[],tableHeaders:[]}},created:function(){for(var t=["a_plus","a","a_minus","b_plus","b","b_minus","c_plus","c","c_minus","d_plus","d","d_minus","f"],e=0,a=t;e<a.length;e++){var s=a[e];0!=this.data[s]&&(this.tableData.push(this.data[s]),this.tableHeaders.push(this.gradeLabels(s)))}},methods:{gradeLabels:function(t){switch(t){case"a_plus":return"A+";case"a":return"A";case"a_minus":return"A-";case"b_plus":return"B+";case"b":return"B";case"b_minus":return"B-";case"c_plus":return"C+";case"c":return"C";case"c_minus":return"C-";case"d_plus":return"D+";case"d":return"D";case"d_minus":return"D-";default:return"F"}}}},x=F,y=a("6544"),C=a.n(y),S=a("62ad"),P=a("a523"),j=a("0fd9"),G=a("1f4f"),V=Object(u["a"])(x,w,A,!1,null,null,null),O=V.exports;C()(V,{VCol:S["a"],VContainer:P["a"],VRow:j["a"],VSimpleTable:G["a"]});var R={name:"ClassRow",props:["classrowdata"],data:function(){return{graphId:null,min:null,bot90:null,bot75:null,bot50:null,top50:null,top75:null,top90:null,max:null,allSections:!1,showPopover:!1}},beforeMount:function(){this.calculateDist(),this.graphId="#"+this.classrowdata.label.replace(/\W/g,""),this.allSections="All Sections"==this.classrowdata.label},mounted:function(){this.generateGraph(),window.addEventListener("resize",this.generateGraph)},beforeDestroy:function(){window.removeEventListener("resize",this.generateGraph)},methods:{generateGraph:function(){b["c"](this.graphId).html("").attr("ref","svgGraph");var t=20,e=25,a=5,s=20,n=this.$refs.svgDiv.clientWidth-2*t,l=b["c"](this.graphId).append("svg").attr("width",n+2*t).attr("height",e),r=b["b"]().domain([0,4]).range([t,n+t]),i=b["b"]().domain([1,-1]).range([180,360]),o=this.classrowdata,c=function(t,e,n,o){l.append("rect").attr("rx",8).attr("ry",8).attr("x",(function(){return r(t)-5})).attr("y",a).attr("width",(function(){return r(e)-r(t)+10})).attr("height",s).attr("fill",(function(){var t=i(o.gpad);return"hsla("+t+", 100%, 76%, "+n+")"}))};c(this.min,this.max,.2,o),c(this.bot90,this.top90,.2,o),c(this.bot75,this.top75,.2,o),c(this.bot50,this.top50,.6,o),l.append("rect").attr("x",(function(){return r(o.gpa)-1})).attr("y",a).attr("width",3).attr("height",s).attr("fill","rgba(108, 108, 108, 0.8)")},findGPA:function(t){switch(t){case 0:return 0;case 1:return.7;case 2:return 1;case 3:return 1.3;case 4:return 1.7;case 5:return 2;case 6:return 2.3;case 7:return 2.7;case 8:return 3;case 9:return 3.3;case 10:return 3.7;case 11:return 4;case 12:return 4}},calculateDist:function(){for(var t=this.classrowdata,e=t.a_plus||0,a=t.a||0,s=t.a_minus||0,n=t.b_plus||0,l=t.b||0,r=t.b_minus||0,i=t.c_plus||0,o=t.c||0,c=t.c_minus||0,u=t.d_plus||0,d=t.d||0,p=t.d_minus||0,h=t.f||0,f=a+e+s+n+l+r+i+o+c+u+d+p+h,v=[h,p,d,u,c,o,i,r,l,n,s,a,e],_=1;_<v.length;_++)v[_]=v[_]+v[_-1];for(var m=0;m<v.length;m++){var g=v[m];g/f>=.99&&null==this.max&&(this.max=this.findGPA(m)),g/f>=.95&&null==this.top90&&(this.top90=this.findGPA(m)),g/f>=.875&&null==this.top75&&(this.top75=this.findGPA(m)),g/f>=.75&&null==this.top50&&(this.top50=this.findGPA(m)),g/f>=.25&&null==this.bot50&&(this.bot50=this.findGPA(m)),g/f>=.125&&null==this.bot75&&(this.bot75=this.findGPA(m)),g/f>=.05&&null==this.bot90&&(this.bot90=this.findGPA(m)),g/f>0&&null==this.min&&(this.min=this.findGPA(m))}}},components:{GradeTable:O}},k=R,I=a("ce87"),L=a("e449"),D=Object(u["a"])(k,m,g,!1,null,null,null),E=D.exports;C()(D,{VCol:S["a"],VContainer:P["a"],VHover:I["a"],VMenu:L["a"],VRow:j["a"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0"},[a("v-row",{staticClass:"align-center text-decoration-underline px-1",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"4",sm:"3",md:"2"}},[a("div",{staticClass:"font-weight-light"},[t._v(t._s(t.sectionlabel))])]),a("v-col",{staticClass:"d-none d-md-flex justify-end",attrs:{cols:"1"}},[a("div",{staticClass:"font-weight-light"},[t._v("Sections")])]),a("v-col",{attrs:{cols:"7",sm:"8",md:"7"}},[a("div",{ref:"svgAxis",attrs:{id:"instructorheadersvg"}})]),a("v-col",{staticClass:"d-none d-md-flex justify-end",attrs:{cols:"1"}},[a("div",{staticClass:"font-weight-light"},[t._v("GPA Δ")])]),a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"1",md:"1"}},[a("div",{staticClass:"font-weight-light"},[t._v("GPA")])])],1)],1)},M=[],$={name:"InstructorHeader",props:["sectionlabel"],setup:function(){},mounted:function(){this.generateAxis(),window.addEventListener("resize",this.generateAxis)},beforeDestroy:function(){window.removeEventListener("resize",this.generateAxis)},methods:{generateAxis:function(){b["c"]("#instructorheadersvg").html("").attr("ref","svgAxis");var t=20,e=30,a=this.$refs.svgAxis.clientWidth-2*t,s=b["c"]("#instructorheadersvg").append("svg").attr("width",a+2*t).attr("height",e),n=b["b"]().domain([0,4]).range([t,a+t]),l=b["a"](n).tickValues([0,1,2,3,4]);s.append("g").attr("class","axis").style("font-size","13px").style("font-family","Roboto").attr("transform","translate(0, "+(e-1).toString()+")").call(l)}}},z=$,B=Object(u["a"])(z,T,M,!1,null,null,null),H=B.exports;C()(B,{VCol:S["a"],VContainer:P["a"],VRow:j["a"]});var W={name:"SearchBar",setup:function(){},data:function(){return{hasSaved:!1,isEditing:null,isLoading:!1,model:null,search:null,loading:null,select:null,items:[],sections:[],classRows:[],sectionlabel:null,includePandemic:!0}},created:function(){this.getItems()},methods:{getItems:function(){var t=this;fetch("/api/indexes").then((function(t){return t.json()})).then((function(e){t.items=e})).catch((function(t){console.log(t)}))},getEntryDebounced:function(){var t=this;clearTimeout(this._timerId),this._timerId=setTimeout((function(){t.items.includes(t.search)}),500)},sectionGPA:function(t){var e=parseFloat(t.a_plus)||0,a=parseFloat(t.a)||0,s=parseFloat(t.a_minus)||0,n=parseFloat(t.b_plus)||0,l=parseFloat(t.b)||0,r=parseFloat(t.b_minus)||0,i=parseFloat(t.c_plus)||0,o=parseFloat(t.c)||0,c=parseFloat(t.c_minus)||0,u=parseFloat(t.d_plus)||0,d=parseFloat(t.d)||0,p=parseFloat(t.d_minus)||0,h=parseFloat(t.e)||0,f=parseFloat(t.f)||0,v=parseFloat(t.i_f)||0,_=a+e+s+n+l+r+o+i+c+u+d+p+h+f+v;if(0==_)return 0;var m=(4*(a+e)+3.7*s+3.3*n+3*l+2.7*r+2.3*i+2*o+1.7*c+1.3*u+1*d+.7*p)/_;return m},newAverage:function(t,e,a){return(t*e+a)/(e+1)},calculateSections:function(t){var e,a={all:{label:"All Sections",course_desc:"All",instructor:"All",count:0,a_plus:0,a:0,a_minus:0,b_plus:0,b:0,b_minus:0,c_plus:0,c:0,c_minus:0,d_plus:0,d:0,d_minus:0,f:0,gpad:0,gpa:0}},s=Object(_["a"])(this.sections);try{for(s.s();!(e=s.n()).done;){var n=e.value;if((![202020,202030,202110,2020120].includes(n.academic_period)||this.includePandemic)&&0!=this.sectionGPA(n)){var l=a["all"].count;a["all"].a_plus=this.newAverage(a["all"].a_plus,l,parseFloat(n.a_plus)||0),a["all"].a=this.newAverage(a["all"].a,l,parseFloat(n.a)||0),a["all"].a_minus=this.newAverage(a["all"].a_minus,l,parseFloat(n.a_minus)||0),a["all"].b_plus=this.newAverage(a["all"].b_plus,l,parseFloat(n.b_plus)||0),a["all"].b=this.newAverage(a["all"].b,l,parseFloat(n.b)||0),a["all"].b_minus=this.newAverage(a["all"].b_plus,l,parseFloat(n.b_minus)||0),a["all"].c_plus=this.newAverage(a["all"].c_plus,l,parseFloat(n.c_plus)||0),a["all"].c=this.newAverage(a["all"].c,l,parseFloat(n.c)||0),a["all"].c_minus=this.newAverage(a["all"].c_minus,l,parseFloat(n.c_minus)||0),a["all"].d_plus=this.newAverage(a["all"].d_plus,l,parseFloat(n.d_plus)||0),a["all"].d=this.newAverage(a["all"].d,l,parseFloat(n.d)||0),a["all"].d_minus=this.newAverage(a["all"].d_minus,l,parseFloat(n.d_minus)||0),a["all"].f=this.newAverage(a["all"].f,l,(parseFloat(n.f)||0)+(parseFloat(n.e)||0)+(parseFloat(n.i_f)||0)),a["all"].gpa=this.newAverage(a["all"].gpa,l,this.sectionGPA(n)),a["all"].count+=1;var r=void 0,i=void 0;if(t?(r=n.subject+n.course_num.toString(),i=n.subject+" "+n.course_num.toString(),a["all"].instructor=n.instructor):(a["all"].course_desc=n.title,r=n.instructor,i=n.instructor),r in a){var o=a[r].count;a[r].a_plus=this.newAverage(a[r].a_plus,o,parseFloat(n.a_plus)||0),a[r].a=this.newAverage(a[r].a,o,parseFloat(n.a)||0),a[r].a_minus=this.newAverage(a[r].a_minus,o,parseFloat(n.a_minus)||0),a[r].b_plus=this.newAverage(a[r].b_plus,o,parseFloat(n.b_plus)||0),a[r].b=this.newAverage(a[r].b,o,parseFloat(n.b)||0),a[r].b_minus=this.newAverage(a[r].b_plus,o,parseFloat(n.b_minus)||0),a[r].c_plus=this.newAverage(a[r].c_plus,o,parseFloat(n.c_plus)||0),a[r].c=this.newAverage(a[r].c,o,parseFloat(n.c)||0),a[r].c_minus=this.newAverage(a[r].c_minus,o,parseFloat(n.c_minus)||0),a[r].d_plus=this.newAverage(a[r].d_plus,o,parseFloat(n.d_plus)||0),a[r].d=this.newAverage(a[r].d,o,parseFloat(n.d)||0),a[r].d_minus=this.newAverage(a[r].d_minus,o,parseFloat(n.d_minus)||0),a[r].f=this.newAverage(a[r].f,o,(parseFloat(n.f)||0)+(parseFloat(n.e)||0)+(parseFloat(n.i_f)||0)),a[r].gpa=this.newAverage(a[r].gpa,o,this.sectionGPA(n)),a[r].count+=1}else a[r]={label:i,course_desc:n.title,instructor:n.instructor,count:1,a_plus:parseFloat(n.a_plus)||0,a:parseFloat(n.a)||0,a_minus:parseFloat(n.a_minus)||0,b_plus:parseFloat(n.b_plus)||0,b:parseFloat(n.b)||0,b_minus:parseFloat(n.b_minus)||0,c_plus:parseFloat(n.c_plus)||0,c:parseFloat(n.c)||0,c_minus:parseFloat(n.c_minus)||0,d_plus:parseFloat(n.d_plus)||0,d:parseFloat(n.d)||0,d_minus:parseFloat(n.d_minus)||0,f:(parseFloat(n.f)||0)+(parseFloat(n.e)||0)+(parseFloat(n.i_f)||0),gpad:0,gpa:this.sectionGPA(n)}}}}catch(m){s.e(m)}finally{s.f()}for(var c=a["all"].gpa,u=0,d=Object.entries(a);u<d.length;u++){var p=Object(v["a"])(d[u],2),h=p[0],f=p[1];"all"==h||(f.gpad=f.gpa-c),this.classRows.push(f)}this.classRows.sort(this.classSort),2==this.classRows.length&&this.classRows.shift(),0==this.classRows[0].gpa&&(this.classRows=[])},classSort:function(t,e){return console.log(t.label+" "+e.label),"All Sections"==t.label||"All Sections"==e.label?0:t.gpa<e.gpa?1:t.gpa>e.gpa?-1:0},updateSections:function(t){var e=this;if(this.sections=[],this.classRows=[],this.isLoading=!0,/[A-Z]{2,4}\d{5}/.exec(t)){var a=t.split(/([A-Z]{2,4})(\d{5})/).filter((function(t){return""!==t})),s=Object(v["a"])(a,2),n=s[0],l=s[1];fetch("/api/grades?course="+n+" "+l).then((function(t){return t.json()})).then((function(t){e.sections=t,e.isLoading=!1,e.calculateSections(!1),e.sectionlabel="Instructors"})).catch((function(t){console.log(t)}))}else fetch("/api/grades?instructor="+t).then((function(t){return t.json()})).then((function(t){e.sections=t,e.isLoading=!1,e.calculateSections(!0),e.sectionlabel="Classes"})).catch((function(t){console.log(t)}))}},watch:{search:function(t){null==t&&(this.sections=[],this.classRows=[]),!t|!this.items.includes(t)||this.updateSections(t)},includePandemic:function(){this.updateSections(this.search)}},components:{ClassRow:E,InstructorHeader:H}},J=W,X=a("c6a6"),Z=a("ac7c"),N=a("a722"),q=a("490a"),K=a("3a2f"),Q=Object(u["a"])(J,h,f,!1,null,null,null),U=Q.exports;C()(Q,{VAutocomplete:X["a"],VCheckbox:Z["a"],VContainer:P["a"],VLayout:N["a"],VProgressCircular:q["a"],VTooltip:K["a"]});var Y={name:"App",components:{Sample:p,SearchBar:U},data:function(){return{}}},tt=Y,et=a("7496"),at=a("f6c4"),st=Object(u["a"])(tt,n,l,!1,null,null,null),nt=st.exports;C()(st,{VApp:et["a"],VCol:S["a"],VContainer:P["a"],VMain:at["a"],VRow:j["a"]});var lt=a("f309");s["a"].use(lt["a"]);var rt=new lt["a"]({});s["a"].config.productionTip=!1,new s["a"]({vuetify:rt,render:function(t){return t(nt)}}).$mount("#app")}});
//# sourceMappingURL=app.13f660f6.js.map